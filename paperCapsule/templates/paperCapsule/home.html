{% extends "paperCapsule/base.html" %}
{% block content %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.17.0/font/bootstrap-icons.css" rel="stylesheet">
    <style>
        /* Custom CSS for same height cards */
        .media.content-section {
            height: 100%;
        }
        .media-body {
            display: flex;
            flex-direction: column;
            height: 100%;
        }
        .article-metadata {
            margin-bottom: auto;
        }
        .article-content {
            max-height: 150px; /* Set the desired maximum height for the article content */
            overflow: hidden;
        }
        .article-title {
      margin-top: 0;
    }
    
    </style>
</head>
<body>
<p>Welcome to Paper Capsule, {{ user.first_name }} {{ user.last_name }}</p>
<h2>For You</h2>
<p>Recommended for your interests</p>

<div class="container">
<div class="row">
    {% for article in articles %}
        {% if not user.is_authenticated or user not in article.saves.all %}
            <div class="col-md-4">
                <div class="card h-100">
                     <!-- Added container div -->
                        <!-- Card content -->
                    
                    <div class="card-body">
                        <a class="mr-2" href="{% url 'view_profile' username=article.author.username %}">{{ article.author.first_name }} {{ article.author.last_name }}</a>
                        
                        <!-- Title -->
                        <h5 class="card-title"><a href="{% url 'article-detail' article.id %}">{{ article.title }}</a></h5>
                        
                        <!-- Content -->
                        <p class="card-text">{{ article.display_content|safe }}</p>
                    </div>
                    <div class="d-flex justify-content-end">
                            {% if user in article.saves.all %}
                                <a href="{% url 'article-save' article.id %}">UnSave</a>
                            {% else %}
                                <a href="{% url 'article-save' article.id %}" class="btn mt-auto"><i class="bi bi-plus-circle-dotted"></i> Save</a>
                            {% endif %}
                    </div>
            </div>
            </div>
        {% endif %}
    {% endfor %}
</div>
</div>

<div class="container">
    <div class="row">
      <div class="col-sm">
        <div class="card h-100">
            <div class="card-body">
              <h5 class="card-title">Card title</h5>
              <h6 class="card-subtitle mb-2 text-muted">Card subtitle</h6>
              <p class="card-text">Some quick example text to Some quick example text to build on the car Some quick example text to build on the car Some quick example text to build on the car Some quick example text to build on the car Some quick example text to build on the car build on the card title and make up the bulk of the card's content.</p>
            </div>
            <div class="d-flex justify-content-around">
                <a href="#" class="card-link">Card link</a>
                <a href="#" class="card-link">Another link</a>
            </div>
          </div>
      </div>
      <div class="col-sm">
        <div class="card h-100">
            <div class="card-body">
              <h5 class="card-title">Card title</h5>
              <h6 class="card-subtitle mb-2 text-muted">Card subtitle</h6>
              <p class="card-text">Some quick example text to build on the card SSome quick example text to build on the carome quick example text to build on the cartitle and make up the bulk of the card's content.</p>
            </div>
            <div class="d-flex justify-content-around">
                <a href="#" class="card-link">Card link</a>
                <a href="#" class="card-link">Another link</a>
            </div>
          </div>
      </div>
      <div class="col-sm">
        <div class="card h-100">
            <div class="card-body">
              <h5 class="card-title">Card title</h5>
              <h6 class="card-subtitle mb-2 text-muted">Card subtitle</h6>
              <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
            </div>
            <div class="d-flex justify-content-around">
                <a href="#" class="card-link">Card link</a>
                <a href="#" class="card-link">Another link</a>
            </div>
          </div>
      </div>
    </div>
  </div>

</body>
</html>
{% endblock content %}
